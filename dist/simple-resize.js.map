{"version":3,"file":"simple-resize.js","sources":["../node_modules/.0.0.18@wat-type/dist/wat-type.js","../src/lib/constants.js","../src/lib/resize.js","../src/lib/state.js","../src/lib/component.js","../src/lib/simple-resize.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.watType = {}));\n}(this, function (exports) { 'use strict';\n\n  var watType = function watType(type) {\n    var _type = /^\\[.+\\ +(.+)\\]$/.exec(Object.prototype.toString.call(type))[1];\n\n    if (_type === 'Number') {\n      _type = type !== type ? 'NaN' : _type;\n    }\n\n    if (_type.startsWith('HTML') && _type.endsWith('Element')) {\n      _type = 'HTMLElement';\n    } // [object String]\n    // [object Number]\n    // [object Boolean\n    // [object Null]\n    // [object Undefined]\n    // [object Object]\n    // [object RegExp]\n    // [object Function]\n    // [object Array]\n    // TODO: figure out Symbol type\n\n\n    return _type;\n  };\n\n  var isString = function isString(type) {\n    return watType(type) === 'String';\n  };\n\n  var isNumber = function isNumber(type) {\n    return watType(type) === 'Number';\n  };\n\n  var isBoolean = function isBoolean(type) {\n    return watType(type) === 'Boolean';\n  };\n\n  var isNull = function isNull(type) {\n    return watType(type) === 'Null';\n  };\n\n  var isUndefined = function isUndefined(type) {\n    return watType(type) === 'Undefined';\n  };\n\n  var isNaN = function isNaN(type) {\n    return watType(type) === 'NaN';\n  };\n\n  var isObject = function isObject(type) {\n    return watType(type) === 'Object';\n  };\n\n  var isFunction = function isFunction(type) {\n    return watType(type) === 'Function';\n  };\n\n  var isRegExp = function isRegExp(type) {\n    return watType(type) === 'RegExp';\n  };\n\n  var isHTMLElement = function isHTMLElement(type) {\n    return watType(type) === 'HTMLElement';\n  };\n\n  var watType$1 = {\n    watType: watType,\n    isString: isString,\n    isNumber: isNumber,\n    isBoolean: isBoolean,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    isNaN: isNaN,\n    isObject: isObject,\n    isFunction: isFunction,\n    isRegExp: isRegExp,\n    isHTMLElement: isHTMLElement\n  };\n\n  exports.default = watType$1;\n  exports.isBoolean = isBoolean;\n  exports.isFunction = isFunction;\n  exports.isHTMLElement = isHTMLElement;\n  exports.isNaN = isNaN;\n  exports.isNull = isNull;\n  exports.isNumber = isNumber;\n  exports.isObject = isObject;\n  exports.isRegExp = isRegExp;\n  exports.isString = isString;\n  exports.isUndefined = isUndefined;\n  exports.watType = watType;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=wat-type.js.map\n","export const DIRECTIONS = {\n  TOPLEFT: 0,\n  TOP: 1, \n  TOPRIGHT: 2,\n  RIGHT: 3,\n  BOTTOMRIGHT: 4,\n  BOTTOM: 5,\n  BOTTOMLEFT: 6,\n  LEFT: 7\n}\nexport const DIRECTION = (DIRNUM) => Object.keys(DIRECTIONS)[DIRNUM]\n\nexport const componentStyle = {\n  'background-color': 'red',\n  width: '200px',\n  height: '300px',\n  top: '100px',\n  left: '500px',\n  position: 'absolute'\n}\nexport const componentResizeStyle = {\n  border: '3px solid #3899ec'\n}\nexport const resizeButtonStyle = {\n  position: 'absolute',\n  width: '20px',\n  height: '20px',\n  'border-radius': '50%',\n  transform: 'translate(-50%, -50%)',\n  background: 'blue',\n  cursor: 'pointer'\n}\n","import { DIRECTION, DIRECTIONS } from './constants'\n// import { fromEvent, interval } from 'rxjs';\n// import { debounce } from 'rxjs/operators';\n\nconst resize = ($self, $elm, $target, DIRNUM) => {\n  let DIR = DIRECTION(DIRNUM)\n\n  // let subscriber = mousemoveEvent.pipe(debounce(() => interval(0)))\n  // subscriber.subscribe(e => {\n  //   e.preventDefault()\n  //   if ($self.state.clicked === true) {\n  //     // console.log(DIR)\n  //     resizeEvent(e, DIR)\n  //     $self.state.client = {\n  //       clientX: e.clientX,\n  //       clientY: e.clientY\n  //     }\n  //   }\n  // })\n  $elm.addEventListener('mousedown', (e) => {\n    e.preventDefault()\n    $self.state.clicked = true\n    $self.state.client = {\n      clientX: e.clientX,\n      clientY: e.clientY\n    }\n    $self.state.DIRNUM = DIRNUM\n  }, true)  \n\n  window.addEventListener('mousemove', (e) => {\n    e.preventDefault()\n      if ($self.state.clicked === true) {\n        resizeEvent(e, DIRECTION($self.state.DIRNUM))\n        $self.state.client = {\n          clientX: e.clientX,\n          clientY: e.clientY\n        }\n      }\n  }, true)\n\n\n  window.addEventListener('mouseup', (e) => {\n    e.preventDefault()\n    if ($self.state.clicked) {\n      resizeEvent(e)\n      $self.state.clicked = false\n    }\n  }, true)\n\n  const resizeEvent = (e, DIR) => {\n    const { client, clicked } = $self.state\n    e.preventDefault()\n    if (clicked) {\n      switch (DIR) {\n        case 'TOP': {\n          $target.style.height = parseInt($target.style.height) + Number(client.clientY) - Number(e.clientY) + 'px'\n          $target.style.top = parseInt($target.style.top) - (Number(client.clientY) - Number(e.clientY)) + 'px'\n          return\n        }\n        case 'TOPRIGHT': {\n          $target.style.height = parseInt($target.style.height) + Number(client.clientY) - Number(e.clientY) + 'px'\n          $target.style.top = parseInt($target.style.top) - (Number(client.clientY) - Number(e.clientY)) + 'px'\n          $target.style.width = parseInt($target.style.width) + Number(e.clientX) - Number(client.clientX) + 'px'\n          return\n        }\n        case 'TOPLEFT': {\n          $target.style.height = parseInt($target.style.height) + Number(client.clientY) - Number(e.clientY) + 'px'\n          $target.style.top = parseInt($target.style.top) - (Number(client.clientY) - Number(e.clientY)) + 'px'\n          $target.style.width = parseInt($target.style.width) + Number(client.clientX) - Number(e.clientX) + 'px'\n          $target.style.left = parseInt($target.style.left) + (Number(e.clientX) - Number(client.clientX)) + 'px'\n          return\n        }\n        case 'RIGHT': {\n          $target.style.width = parseInt($target.style.width) + Number(e.clientX) - Number(client.clientX) + 'px'\n          return\n        }\n        case 'BOTTOMRIGHT': {\n          $target.style.width = parseInt($target.style.width) + Number(e.clientX) - Number(client.clientX) + 'px'\n          $target.style.height = parseInt($target.style.height) + Number(e.clientY) - Number(client.clientY) + 'px'\n          return\n        }\n        case 'BOTTOM': {\n          $target.style.height = parseInt($target.style.height) + Number(e.clientY) - Number(client.clientY) + 'px'\n          return\n        }\n        case 'BOTTOMLEFT': {\n          $target.style.height = parseInt($target.style.height) + Number(e.clientY) - Number(client.clientY) + 'px'\n          $target.style.width = parseInt($target.style.width) + Number(client.clientX) - Number(e.clientX) + 'px'\n          $target.style.left = parseInt($target.style.left) + (Number(e.clientX) - Number(client.clientX)) + 'px'\n          return\n        }\n        case 'LEFT': {\n          $target.style.width = parseInt($target.style.width) + Number(client.clientX) - Number(e.clientX) + 'px'\n          $target.style.left = parseInt($target.style.left) + (Number(e.clientX) - Number(client.clientX)) + 'px'\n          return\n        }\n      }\n    }\n  }\n}\n\nexport default resize\n","const state = {\n  clicked: false,\n  prevClient: {\n    clientX: 0,\n    clientY: 0\n  }\n}\n\nexport default state","import { componentStyle, resizeButtonStyle, componentResizeStyle } from './constants'\nimport { DIRECTIONS } from './constants'\nimport resize from './resize'\nimport state from './state'\n\nlet component = ($self, $elm, options = {}) => {\n  $self.options = Object.assign({}, componentStyle, options)\n  // $self.$elm = $elm\n  $self.state = state\n\n  // setStyle($elm)\n  setComponentStyle($elm, $self.options)\n  setResize($self, $elm)\n}\n\nconst setComponentStyle = ($elm, options) => {  \n  $elm.style = objToStyle(options)\n}\nconst objToStyle = (options) => {\n  let style = ''\n  for (let key in options) {\n    style += `${key}: ${options[key]};`\n  }\n  return style\n}\nconst setResize = ($self, $elm) => {\n  const $top = document.createElement('div')\n  const $topRight = document.createElement('div')\n  const $topLeft = document.createElement('div')\n  const $right = document.createElement('div')\n  const $bottomRight = document.createElement('div')\n  const $bottom = document.createElement('div')\n  const $bottomLeft = document.createElement('div')\n  const $left = document.createElement('div')\n  \n  const _resizeButtonStyle = objToStyle(resizeButtonStyle)\n  $top.style = `top: 0; left: 50%; ${_resizeButtonStyle}`\n  $topRight.style = `top: 0; left: 100%; ${_resizeButtonStyle}`\n  $topLeft.style = `top: 0; left: 0; ${_resizeButtonStyle}`\n  $right.style = `top: 50%; left: 100%; ${_resizeButtonStyle}`\n  $bottomRight.style = `top: 100%; left: 100%; ${_resizeButtonStyle}`\n  $bottom.style = `top: 100%; left: 50%; ${_resizeButtonStyle}`\n  $bottomLeft.style = `top: 100%; left: 0; ${_resizeButtonStyle}`\n  $left.style = `top: 50%; left: 0; ${_resizeButtonStyle}`\n\n  resize($self, $top, $elm, DIRECTIONS.TOP)\n  resize($self, $topRight, $elm, DIRECTIONS.TOPRIGHT)\n  resize($self, $topLeft, $elm, DIRECTIONS.TOPLEFT)\n  resize($self, $right, $elm, DIRECTIONS.RIGHT)\n  resize($self, $bottomRight, $elm, DIRECTIONS.BOTTOMRIGHT)\n  resize($self, $bottom, $elm, DIRECTIONS.BOTTOM)\n  resize($self, $bottomLeft, $elm, DIRECTIONS.BOTTOMLEFT)\n  resize($self, $left, $elm, DIRECTIONS.LEFT)\n\n  window.addEventListener('click', (e) => {\n    if (e.path.indexOf($elm) === -1) {\n      $elm.style.border = ''\n      $elm.contains($top) && $elm.removeChild($top)\n      $elm.contains($topRight) && $elm.removeChild($topRight)\n      $elm.contains($topLeft) && $elm.removeChild($topLeft)\n      $elm.contains($right) && $elm.removeChild($right)\n      $elm.contains($bottomRight) && $elm.removeChild($bottomRight)\n      $elm.contains($bottom) && $elm.removeChild($bottom)\n      $elm.contains($bottomLeft) && $elm.removeChild($bottomLeft)\n      $elm.contains($left) && $elm.removeChild($left)\n    } else {\n      $elm.style.border = componentResizeStyle.border\n      $elm.appendChild($top)\n      $elm.appendChild($topRight)\n      $elm.appendChild($topLeft)\n      $elm.appendChild($right)\n      $elm.appendChild($bottomRight)\n      $elm.appendChild($bottom)\n      $elm.appendChild($bottomLeft)\n      $elm.appendChild($left)\n    }\n  }, true)\n}\n\nexport default component\n","// import 'core-js/shim'\n// import 'regenerator-runtime/runtime'\nimport watType from 'wat-type'\nimport component from './component'\n\n// const simpleResize = function simpleResize($elm) {\n//   const $self = this\n//   if (!watType.isHTMLElement($elm) && !watType.isString($elm)) {\n//     return new Error('$elm should be string or HTMLElement.')\n//   }\n\n//   if (watType.isHTMLElement($elm)) {\n//     $self.$elm = $elm\n//   } else {\n//     $self.$elm = document.querySelector($elm)\n//   }\n\n//   if (!$self.$elm) {\n//     return\n//   }\n\n//   component($self, $self.$elm)\n// }\n\nclass SimpleResize {\n  constructor($elm) {\n    this.$elm = $elm\n    if (!watType.isHTMLElement($elm) && !watType.isString($elm)) {\n      return new Error('$elm should be string or HTMLElement.')\n    }\n  \n    if (watType.isHTMLElement($elm)) {\n      this.$elm = $elm\n    } else {\n      this.$elm = document.querySelector($elm)\n    }\n  \n    if (!this.$elm) {\n      return\n    }\n  \n    component(this, this.$elm)\n  }\n}\n\n// if (typeof window === 'object') {\n//   window.simpleResize = simpleResize\n// }\nexport {\n  SimpleResize\n}\nexport default SimpleResize\n"],"names":["this","DIRECTIONS","TOPLEFT","TOP","TOPRIGHT","RIGHT","BOTTOMRIGHT","BOTTOM","BOTTOMLEFT","LEFT","DIRECTION","DIRNUM","Object","keys","componentStyle","width","height","top","left","position","componentResizeStyle","border","resizeButtonStyle","transform","background","cursor","resize","$self","$elm","$target","DIR","addEventListener","e","preventDefault","state","clicked","client","clientX","clientY","window","resizeEvent","style","parseInt","Number","prevClient","component","options","assign","setComponentStyle","setResize","objToStyle","key","$top","document","createElement","$topRight","$topLeft","$right","$bottomRight","$bottom","$bottomLeft","$left","_resizeButtonStyle","path","indexOf","contains","removeChild","appendChild","SimpleResize","watType","isHTMLElement","isString","Error","querySelector"],"mappings":"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"}